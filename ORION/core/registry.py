'''
 █████╗ ███╗   ██╗ ██████╗ ███╗   ██╗ ██╗   ██╗ ███╗   ███╗ ██████╗ ██╗   ██╗ ███████╗
██╔══██╗████╗  ██║██╔═══██╗████╗  ██║ ╚██╗ ██╔╝ ████╗ ████║██╔═══██╗██║   ██║ ██╔════╝
███████║██╔██╗ ██║██║   ██║██╔██╗ ██║  ╚████╔╝  ██╔████╔██║██║   ██║██║   ██║ ███████╗
██╔══██║██║╚██╗██║██║   ██║██║╚██╗██║   ╚██╔╝   ██║╚██╔╝██║██║   ██║██║   ██║ ╚════██║
██║  ██║██║ ╚████║╚██████╔╝██║ ╚████║    ██║    ██║ ╚═╝ ██║╚██████╔╝╚██████╔╝ ███████║
╚═╝  ╚═╝╚═╝  ╚═══╝ ╚═════╝ ╚═╝  ╚═══╝    ╚═╝    ╚═╝     ╚═╝ ╚═════╝  ╚═════╝  ╚══════╝

 ██████╗ ██████╗  ██████╗  ██████╗ ██████╗  █████╗ ███╗   ███╗ ███╗   ███╗ ███████╗ ██████╗
██╔═══██╗██╔══██╗██╔═══██╗██╔════╝ ██╔══██╗██╔══██╗████╗ ████║ ████╗ ████║ ██╔════╝██╔═══██╗
██║   ██║██████╔╝██║   ██║██║  ███╗██████╔╝███████║██╔████╔██║ ██╔████╔██║ █████╗  ██║   ██║
██║   ██║██╔══██╗██║   ██║██║   ██║██╔══██╗██╔══██║██║╚██╔╝██║ ██║╚██╔╝██║ ██╔══╝  ██║   ██║
╚██████╔╝██║  ██║╚██████╔╝╚██████╔╝██║  ██║██║  ██║██║ ╚═╝ ██║ ██║ ╚═╝ ██║ ███████╗╚██████╔╝
 ╚═════╝ ╚═╝  ╚═╝ ╚═════╝  ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝     ╚═╝ ╚═╝     ╚═╝ ╚══════╝ ╚═════╝

'''
import importlib
import pkgutil
from core.plugin import OrionPlugin

class PluginRegistry:
    def __init__(self):
        self.plugins = []

    def discover_plugins(self):
        for _, module_name, _ in pkgutil.iter_modules(['plugins']):
            module = importlib.import_module(f"plugins.{module_name}")
            for obj in module.__dict__.values():
                if isinstance(obj, type) and issubclass(obj, OrionPlugin) and obj is not OrionPlugin:
                    self.plugins.append(obj())
